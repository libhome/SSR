<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ë‚˜ì—ê²Œ ë§ëŠ” ì±… ì°¾ê¸°</title>
  <style>
    body {
      font-family: "Noto Sans KR", sans-serif;
      background: #f4f6f8;
      margin: 0;
      padding: 0;
    }
    .container {
      max-width: 760px;
      margin: 40px auto;
      background: #ffffff;
      padding: 30px;
      border-radius: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    }
    h1 {
      text-align: center;
    }
    .question {
      margin-top: 30px;
      font-size: 18px;
      font-weight: bold;
    }
    .buttons button {
      display: block;
      width: 100%;
      margin-top: 10px;
      padding: 12px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #4CAF50;
      color: white;
      cursor: pointer;
    }
    .buttons button:hover {
      background: #43a047;
    }
    .book {
      background: #eef2ff;
      padding: 12px;
      border-radius: 8px;
      margin-top: 10px;
    }
    .restart {
      margin-top: 20px;
      background: #607d8b;
    }
  </style>
</head>
<body>

<div class="container">
  <h1>ğŸ“š ë‚˜ì—ê²Œ ë§ëŠ” ì±… ì°¾ê¸°</h1>
  <p style="text-align:center;">ì§ˆë¬¸ì— ë‹µí•˜ë©´ì„œ ë‚˜ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ì±…ì„ ì°¾ì•„ë³´ì„¸ìš”!</p>

  <div id="content"></div>
</div>

<script>
/* ===============================
   ì‚¬ì„œêµì‚¬ ì¶”ì²œ ë„ì„œ (KDC ê¸°ë°˜)
================================ */

const books = [
  { title:"ì•„ëª¬ë“œ", author:"ì†ì›í‰", mood:"ê³ ë¯¼", purpose:"ë‚˜", time:"ì¤‘ê°„", style:"ê¸€" },
  { title:"ë§ˆë‹¹ì„ ë‚˜ì˜¨ ì•”íƒ‰", author:"í™©ì„ ë¯¸", mood:"ìœ„ë¡œ", purpose:"ë‚˜", time:"ì§§ìŒ", style:"ì´ì•¼ê¸°" },
  { title:"ì‹œê°„ì„ íŒŒëŠ” ìƒì ", author:"ê¹€ì„ ì˜", mood:"ìƒê°", purpose:"ì¬ë¯¸", time:"ì¤‘ê°„", style:"ê¸€" },
  { title:"ê³¼í•™ íƒì •ë‹¨", author:"ì •ì¬ì€", mood:"ì‹ ë‚¨", purpose:"ì¬ë¯¸", time:"ì¤‘ê°„", style:"ì´ì•¼ê¸°" },
  { title:"Why? ê³¼í•™", author:"ì´ê´‘ì›…", mood:"ì‹ ë‚¨", purpose:"ì•Œê¸°", time:"ì§§ìŒ", style:"ì •ë³´" }
];

/* ===============================
   í•™ìƒ ì„ íƒ ì €ì¥
================================ */

let step = 0;
let choice = {};

/* ===============================
   ì§ˆë¬¸ ì¶œë ¥
================================ */

function showStep() {
  const c = document.getElementById("content");

  if (step === 0) {
    c.innerHTML = `
      <div class="question">ğŸ’¬ ìš”ì¦˜ ë‚´ ê¸°ë¶„ì€ ì–´ë–¤ê°€ìš”?</div>
      <div class="buttons">
        <button onclick="answer('mood','ì‹ ë‚¨')">ì‹ ë‚˜ìš” ğŸ˜†</button>
        <button onclick="answer('mood','ìœ„ë¡œ')">ì¡°ê¸ˆ ì§€ì³ìš” ğŸ˜¥</button>
        <button onclick="answer('mood','ê³ ë¯¼')">ê³ ë¯¼ì´ ìˆì–´ìš” ğŸ¤”</button>
      </div>`;
  }

  else if (step === 1) {
    c.innerHTML = `
      <div class="question">ğŸ“– ì´ ì±…ì„ ì™œ ì½ê³  ì‹¶ë‚˜ìš”?</div>
      <div class="buttons">
        <button onclick="answer('purpose','ì¬ë¯¸')">ì¬ë¯¸ìˆê²Œ ì½ê³  ì‹¶ì–´ìš”</button>
        <button onclick="answer('purpose','ì•Œê¸°')">ìƒˆë¡œìš´ ê±¸ ì•Œê³  ì‹¶ì–´ìš”</button>
        <button onclick="answer('purpose','ë‚˜')">ë‚˜ë‘ ë¹„ìŠ·í•œ ì´ì•¼ê¸°ë¥¼ ë³´ê³  ì‹¶ì–´ìš”</button>
      </div>`;
  }

  else if (step === 2) {
    c.innerHTML = `
      <div class="question">â° ì–¼ë§ˆë‚˜ ì½ì„ ìˆ˜ ìˆë‚˜ìš”?</div>
      <div class="buttons">
        <button onclick="answer('time','ì§§ìŒ')">ì¡°ê¸ˆë§Œ ì½ì–´ìš”</button>
        <button onclick="answer('time','ì¤‘ê°„')">í•˜ë£¨ í•œ ì±•í„°</button>
      </div>`;
  }

  else if (step === 3) {
    c.innerHTML = `
      <div class="question">ğŸ“š ì–´ë–¤ ì±…ì´ ë” í¸í•´ìš”?</div>
      <div class="buttons">
        <button onclick="answer('style','ì´ì•¼ê¸°')">ì´ì•¼ê¸° ì¤‘ì‹¬</button>
        <button onclick="answer('style','ì •ë³´')">ì •ë³´ê°€ ë§ì€ ì±…</button>
        <button onclick="answer('style','ê¸€')">ê¸€ì´ ë§ì€ ì±…</button>
      </div>`;
  }

  else {
    showResult();
  }
}

/* ===============================
   ì‘ë‹µ ì²˜ë¦¬
================================ */

function answer(key, value) {
  choice[key] = value;
  step++;
  showStep();
}

/* ===============================
   ê²°ê³¼ ì¶œë ¥
================================ */

function showResult() {
  const c = document.getElementById("content");

  const result = books.filter(b =>
    b.mood === choice.mood &&
    b.purpose === choice.purpose &&
    b.time === choice.time &&
    b.style === choice.style
  );

  c.innerHTML = `<div class="question">ğŸ“š ë‚˜ì—ê²Œ ì–´ìš¸ë¦¬ëŠ” ì±…</div>`;

  if (result.length === 0) {
    c.innerHTML += `<p>ë”± ë§ëŠ” ì±…ì´ ì—†ì–´ìš”. ë‹¤ì‹œ ê³¨ë¼ë³¼ê¹Œìš”?</p>`;
  } else {
    result.slice(0,3).forEach(b => {
      c.innerHTML += `
        <div class="book">
          <strong>${b.title}</strong><br>
          ì €ì: ${b.author}
        </div>`;
    });
  }

  c.innerHTML += `
    <button class="buttons restart" onclick="restart()">ğŸ”„ ë‹¤ì‹œ ì„ íƒí•˜ê¸°</button>`;
}

/* ===============================
   ë‹¤ì‹œ ì‹œì‘
================================ */

function restart() {
  step = 0;
  choice = {};
  showStep();
}

/* ì´ˆê¸° ì‹¤í–‰ */
showStep();
</script>

</body>
</html>
